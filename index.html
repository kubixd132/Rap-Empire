<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rap Empire ‚Äì Mega Idle</title>
<style>
:root{
    --pink:#ff2a6d;
    --purple:#9d4edd;
    --bg:#0b0b10;
    --glass:rgba(255,255,255,0.08);
}

*{box-sizing:border-box;}
body{
    margin:0;
    font-family:'Segoe UI',system-ui;
    background:radial-gradient(circle at top,#1a1a2e,#0b0b10 70%);
    color:white;
    text-align:center;
    overflow-x:hidden;
}

header{
    padding:20px 10px;
    font-size:28px;
    font-weight:900;
    letter-spacing:2px;
    background:linear-gradient(90deg,var(--pink),var(--purple));
    -webkit-background-clip:text;
    color:transparent;
}

/* Dynamic Background */
#bg{
    position:fixed;
    width:200%;
    height:100%;
    top:0;
    left:0;
    background:linear-gradient(to bottom, #1a1a2e 0%,#0b0b10 100%);
    z-index:-10;
    animation:moveBg 60s linear infinite;
}
@keyframes moveBg{
    0%{transform:translateX(0);}
    100%{transform:translateX(-50%);}
}

/* NAV */
nav{
    display:flex;
    justify-content:center;
    gap:10px;
    margin-bottom:10px;
}
nav button{
    flex:1;
    max-width:120px;
    background:var(--glass);
    backdrop-filter:blur(12px);
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    color:white;
}

/* PANELS */
.panel{
    margin:12px;
    padding:18px;
    border-radius:22px;
    background:var(--glass);
    backdrop-filter:blur(16px);
    border:1px solid rgba(255,255,255,.12);
    box-shadow:0 10px 40px rgba(0,0,0,.5);
}

/* BUTTONS */
button{
    position:relative;
    overflow:hidden;
    width:90%;
    max-width:360px;
    padding:15px;
    margin:8px auto;
    border-radius:18px;
    border:none;
    background:linear-gradient(135deg,var(--pink),var(--purple));
    color:white;
    font-size:16px;
    font-weight:700;
    cursor:pointer;
    transition:.15s;
    box-shadow:0 10px 30px rgba(255,42,109,.35);
}
button:active{
    transform:scale(.92);
    box-shadow:0 0 40px rgba(255,42,109,.9);
}

/* RIPPLE */
button span{
    position:absolute;
    border-radius:50%;
    transform:scale(0);
    animation:ripple .6s linear;
    background:rgba(255,255,255,.6);
}
@keyframes ripple{
    to{transform:scale(4);opacity:0}
}

/* PULSE */
.pulse{
    animation:pulse 1.5s infinite;
}
@keyframes pulse{
    0%{box-shadow:0 0 0 0 rgba(255,42,109,.6)}
    70%{box-shadow:0 0 0 20px rgba(255,42,109,0)}
    100%{box-shadow:0 0 0 0 rgba(255,42,109,0)}
}

/* TABS */
.tab{display:none}
.tab.active{display:block}

/* STATS */
.stat{font-size:18px;margin:6px 0;}
.small{opacity:.75;font-size:14px}

/* FLYING MONEY & ICONS */
.fmoney,.ficon{
    position:absolute;
    font-size:16px;
    font-weight:900;
    animation:flyMoney 1s ease-out forwards;
}
.fmoney{color:#ffea00;}
.ficon{color:#00ffea;}
@keyframes flyMoney{
    0%{opacity:1;transform:translateY(0) scale(1);}
    100%{opacity:0;transform:translateY(-100px) scale(1.3);}
}

/* LEVEL UP FLASH */
.levelup{
    position:absolute;
    top:30%;
    left:50%;
    transform:translateX(-50%);
    font-size:32px;
    color:#00ffea;
    font-weight:900;
    text-shadow:0 0 12px #00ffea;
    animation:fadeUp 1s forwards;
}
@keyframes fadeUp{
    0%{opacity:1;transform:translate(-50%,0);}
    100%{opacity:0;transform:translate(-50%,-80px);}
}

/* POWER-UP FLASH */
.powerup{
    position:absolute;
    top:40%;
    left:50%;
    transform:translateX(-50%);
    font-size:28px;
    color:#ff2a6d;
    font-weight:900;
    text-shadow:0 0 12px #ff2a6d;
    animation:fadeUp 1s forwards;
}
</style>
</head>

<body>

<div id="bg"></div>

<header>üé§ RAP EMPIRE</header>

<nav>
    <button onclick="openTab('game')">Gra</button>
    <button onclick="openTab('shop')">Sklep</button>
    <button onclick="openTab('stats')">Staty</button>
</nav>

<div id="game" class="tab active panel">
    <div class="stat" id="money">üí∞ 0$</div>
    <div class="stat" id="sec">‚è±Ô∏è 0$/s</div>
    <div class="stat" id="level">‚≠ê Level 1</div>
    <div class="stat" id="prestige">üî• Prestiz 0</div>
    <button onclick="clickMoney()">üé∂ Nagraj track</button>
</div>

<div id="shop" class="tab panel">
    <button onclick="buyClick()">‚ûï Lepszy klik (<span id="cCost">25</span>$)</button>
    <button onclick="buyBot()">ü§ñ Bot (<span id="bCost">100</span>$)</button>
    <button class="pulse" onclick="prestigeUp()">üîÅ Prestiz (10k$)</button>
    <button onclick="usePowerUp('x2')">üí• x2 Zarobek 10s</button>
    <button onclick="usePowerUp('fastBot')">‚ö° Bot boost 10s</button>
</div>

<div id="stats" class="tab panel">
    <div id="statsBox" class="small"></div>
</div>

<script>
// VARIABLES
let money=0,pc=1,ps=0;
let cCost=25,bCost=100;
let level=1,xp=0,prestige=0;
let clicks=0,earned=0;
let powerUpActive=null;

// LOAD
if(localStorage.rapEmpire) Object.assign(window,JSON.parse(localStorage.rapEmpire));

// GAME FUNCTIONS
function clickMoney(){
 let g=pc*(1+prestige*0.5);
 if(powerUpActive==='x2') g*=2;
 money+=g; earned+=g; clicks++; xp++;
 spawnMoney("+$"+Math.floor(g));
 spawnIcon("üé§");
 if(xp>=level*20){
     xp=0; level++; pc++; ps++;
     spawnLevelUp("LEVEL UP!");
 }
 update();
}

function buyClick(){if(money>=cCost){money-=cCost;pc++;cCost=Math.floor(cCost*1.5)}}
function buyBot(){if(money>=bCost){money-=bCost;ps+=2;bCost=Math.floor(bCost*1.7)}}
function prestigeUp(){if(money>=10000){prestige++;money=0;pc=1;ps=0;cCost=25;bCost=100;level=1;xp=0; spawnLevelUp("PRESTIGE!"); }}
function usePowerUp(type){
    powerUpActive=type;
    spawnPowerUp(type==="x2"?"x2 Zarobek!":"Bot boost!");
    setTimeout(()=>powerUpActive=null,10000);
}

// IDLE LOOP
setInterval(()=>{
 let g=ps*(1+prestige*0.5);
 if(powerUpActive==='x2') g*=2;
 money+=g; earned+=g;
 spawnMoney("+$"+Math.floor(g));
 update(); save();
},1000);

// UPDATE UI
function update(){
 money=Math.floor(money);
 document.getElementById("money").innerText=`üí∞ ${money}$`;
 document.getElementById("sec").innerText=`‚è±Ô∏è ${ps}$/s`;
 document.getElementById("level").innerText=`‚≠ê Level ${level}`;
 document.getElementById("prestige").innerText=`üî• Prestiz ${prestige}`;
 document.getElementById("cCost").innerText=cCost;
 document.getElementById("bCost").innerText=bCost;
 document.getElementById("statsBox").innerHTML=
  `üëÜ Klikniƒôcia: ${clicks}<br>üí∏ Zarobione: ${Math.floor(earned)}$`;
}

// SAVE
function save(){localStorage.rapEmpire=JSON.stringify({money,pc,ps,cCost,bCost,level,xp,prestige,clicks,earned});}

// TABS
function openTab(id){document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.getElementById(id).classList.add('active');}

// RIPPLE EFFECT
document.querySelectorAll("button").forEach(b=>{
 b.addEventListener("click",e=>{
  let s=document.createElement("span");
  let d=Math.max(b.clientWidth,b.clientHeight);
  s.style.width=s.style.height=d+"px";
  s.style.left=e.offsetX-d/2+"px";
  s.style.top=e.offsetY-d/2+"px";
  b.appendChild(s);
  setTimeout(()=>s.remove(),600);
 });
});

// FLYING MONEY & ICONS
function spawnMoney(text){
 let m=document.createElement("div");
 m.className="fmoney";
 m.innerText=text;
 m.style.left=(Math.random()*window.innerWidth*0.8+window.innerWidth*0.1)+"px";
 m.style.top=window.innerHeight*0.7+"px";
 document.body.appendChild(m);
 setTimeout(()=>m.remove(),1000);
}
function spawnIcon(text){
 let i=document.createElement("div");
 i.className="ficon";
 i.innerText=text;
 i.style.left=(Math.random()*window.innerWidth*0.8+window.innerWidth*0.1)+"px";
 i.style.top=window.innerHeight*0.7+"px";
 document.body.appendChild(i);
 setTimeout(()=>i.remove(),1000);
}

// LEVEL UP FLASH
function spawnLevelUp(text){
 let l=document.createElement("div");
 l.className="levelup";
 l.innerText=text;
 document.body.appendChild(l);
 setTimeout(()=>l.remove(),1000);
}

// POWER-UP FLASH
function spawnPowerUp(text){
 let l=document.createElement("div");
 l.className="powerup";
 l.innerText=text;
 document.body.appendChild(l);
 setTimeout(()=>l.remove(),1000);
}

update();
</script>
</body>
</html>
